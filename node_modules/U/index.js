var U = {
	array: require ('array_utilities'),
	buffer: require ('buffer_utilities'),
	sorting: {
		numeric_asc: function (a, b) {
			if (a > b) {
				return 1;
			}
			else if (a < b) {
				return -1;
			}
			return 0;
		}
	},

	generateId: function (length, asBuffer) {
		var chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz';
		var id = '';
		for (var i=0; i<length; i++) {
			var random = Math.floor(Math.random() * chars.length);
			id += chars.substring(random, random+1);
		}

		if (asBuffer) {
			return new Buffer(id);
		}

		return id;
	},
	uniqueId: function (length, exists, asBuffer) {
		var id;
		do {
			id = module.exports.generateId(length); 
		} while (exists(id));
		
		if (asBuffer) {
			return new Buffer(id);
		}
		return id;
	}	
};

module.exports = U;